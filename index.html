<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="js/lib/jquery.min.js"></script>
	<script src="js/lib/underscore-min"></script>
	<script src="js/lib/backbone-min.js"></script>
	<script src="js/lib/moment.js"></script>	
    <script src="js/lib/data_generator.js"></script>
    <script src="js/app.js"></script>
  </head>
  <body>
    <script>
      
      $(document).ready(function(){
        var $tweets = $('.tweets');
        $tweets.html('');

        var refreshID = undefined;

        $('#toggleFeed').on('click', function() {          
          if (refreshID === undefined) {
            $(this).text("live feed on.");
            refreshID = setInterval(update, 1000);
          }
          else {
            $(this).text("live feed off.");
            clearInterval(refreshID);
            refreshID = undefined;
          }
        });

        $('#update').on('click', function() {
          update();
        });

        $('#tweets').on('click', '.user', function() {
          if (user === null) {
            user = $(this).text();
            console.log(user);
            showUserTweets(user);
          }
          else {
            showAllTweets();
          }
        });
      
      });

    </script>
	<div id="twittler">
	<div id="header"><h1>twittler.</h1>
	  <ul class="alignright">
	    <li><a href="#" id="toggleFeed" class="round-button">toggle live feed.</a></li>
	    <li><a href="#" id="update" class="round-button">update.</a></li>
	  </ul>
	</div>
	<div id="tweets"></div>
	</div>
  </body>
</html>
